<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>a2g.Core: $title</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">a2g.Core
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">adventure game engine with lots of static checking</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('StaticChecking.html','');
</script>
<div id="doc-content">
<div class="contents">
<div class="textblock"><p>Each scene is composited of exactly:</p>
<ul>
<li>one <a class="el" href="Glossary.html#o-java">o-java</a>, see <a class="el" href="o_8java_source.html">o.java</a></li>
<li>one <a class="el" href="Glossary.html#i-java">i-java</a>, see <a class="el" href="i_8java_source.html">i.java</a></li>
<li>one <a class="el" href="Glossary.html#a-java">a-java</a>, see <a class="el" href="a_8java_source.html">a.java</a></li>
</ul>
<p>For a particular <a class="el" href="QuickLinks.html#Verb">Verb</a>, you may want to make sure you handle every possible object that a user might use that verb with. If this is the case, you can use the enums in the <a class="el" href="Glossary.html#o-java">o-java</a> and <a class="el" href="Glossary.html#i-java">i-java</a>, and do the following:</p>
<div class="fragment"><pre class="fragment">@Override
<span class="keyword">public</span> BaseAction onDoCommand(OnDoCommandAPI api, BaseAction ba, <span class="keywordtype">int</span> verb, SentenceUnit sentenceItemA, SentenceUnit sentenceItemB, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) 
{
    <span class="keywordflow">if</span>(verb==EXAMINE)
    {
        o.names enumified = i.names.valueOf(sentenceItemA.getTextualId());
        <span class="keywordflow">switch</span>(enumified)
        {
        <span class="keywordflow">case</span> KNIFE:
                <span class="keywordflow">return</span> doOneThing(ba);
        <span class="keywordflow">case</span> ROPE: 
                <span class="keywordflow">return</span> doAnotherThing(ba);
        <span class="keywordflow">case</span> KNIFE:<span class="comment">//&lt;-- a duplicate case will generate a compiler error.       </span>
                <span class="keywordflow">return</span> doSomethingElse(ba);
        <span class="comment">// ** the compiler will warn for any items of the enum aren&#39;t handled. </span>
        }
    }
}
</pre></div><p>Alternatively, you might be interesting in handling using of inventory items with something in the scene, inventory items with other inventory items, or items in the scene with other items in the scene,</p>
<p>In thie case, you can can use the static constants in the <a class="el" href="Glossary.html#o-java">o-java</a> and o-java, and do something like the following:</p>
<div class="fragment"><pre class="fragment"><span class="keyword">public</span> BaseAction onDoCommand(OnDoCommandAPI api, BaseAction ba, <span class="keywordtype">int</span> verb, SentenceUnit sentenceItemA, SentenceUnit sentenceItemB, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) 
{
    <span class="keywordtype">int</span> code = verb + sentenceItemA.getCode() * sentenceItemB.getCode();
    <span class="keywordflow">switch</span>(code)
    { 
    <span class="keywordflow">case</span> USE+ i.BONE_A * i.SKULL:
        <span class="keywordflow">return</span> doSomething(ba);
    <span class="keywordflow">case</span> USE+ i.COMBO * o.LILY:
        <span class="keywordflow">return</span> useComboWithLily(ba);
    <span class="keywordflow">case</span> USE+ i.MEAT_A * o.WATER_BACKGROUND:
        <span class="keywordflow">return</span> useMeatWithWater();
    <span class="keywordflow">case</span> USE+ i.MEAT_B * o.WATER_BACKGROUND:
        <span class="keywordflow">return</span> useMeatWithWater();
    <span class="keywordflow">case</span> USE+  i.SKULL * i.BONE_A: <span class="comment">//&lt;-- a duplicate case will generate a compiler error.</span>
        <span class="keywordflow">return</span> doSomethingElse();
    }
}    
</pre></div><p> In the handlers defined above, you may want to react by doing something with some of the graphic resources. This is done with the aforementioned constants - since each of the constants refers to a graphic element, or a series of graphic elements, as is the case with animations. If the constants were all enumerations, this would greatly increase the size of the javascript, when compiled with GWT. As a result, the constants are native types:</p>
<ul>
<li><a class="el" href="QuickLinks.html#InventoryItem">InventoryItem</a> graphics are specified using <b>integer</b> constants.</li>
<li><a class="el" href="QuickLinks.html#SceneObject">SceneObject</a> graphics are specified using <b>short</b> constants.</li>
<li><a class="el" href="QuickLinks.html#Animation">Animation</a> graphics specified using <b>string</b> constants.</li>
</ul>
<p>This still provides a good level of type checking, as follows:</p>
<div class="fragment"><pre class="fragment">api.getAnimation(a.TORCH_FLICKERING);
api.getAnimation(i.TORCH);<span class="comment">// &lt;-- will generate error</span>
api.getAnimation(o.TORCH);<span class="comment">// &lt;-- will generate error</span>
</pre></div><div class="fragment"><pre class="fragment">api.getObject(a.TORCH_FLICKERING);<span class="comment">// &lt;-- will generate error</span>
api.getObject(i.TORCH);<span class="comment">// &lt;-- will generate error</span>
api.getObject(o.TORCH);
</pre></div><div class="fragment"><pre class="fragment">api.getInventory(a.TORCH_FLICKERING);<span class="comment">// &lt;-- will generate error</span>
api.getInventory(i.TORCH);
api.getInventory(o.TORCH);<span class="comment">// &lt;- will not generate error :(</span>
</pre></div><p>By having animation constants represent both an object and an animation:</p>
<ul>
<li>ie getAnimation(TORCH_FLICKERING)</li>
</ul>
<p>rather than having to supply these separately in to a method:</p>
<ul>
<li>ie getAnimation(TORCH, FLICKERING)</li>
</ul>
<p>avoids the error of supplying two mismatched constants:</p>
<ul>
<li>ie getAnimation(TV, FLICKERING) &lt;-- flickering doesn't exist as an animation on TV </li>
</ul>
</div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">Generated on Thu Jan 24 2013 00:19:02 for a2g.Core by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
